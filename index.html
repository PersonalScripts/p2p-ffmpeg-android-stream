<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
			<html>
				<head>
					<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
					<link rel="stylesheet" href="/nabble.pack.css?v=29" type="text/css" />
	<link rel="stylesheet" href="/template/NamlServlet.jtp?macro=site_style" type="text/css" />
					<script src="/util/jquery-1.7.2.pack.js" type="text/javascript"></script>
	<script src="/util/nabbledropdown-2.4.1.pack.js" type="text/javascript"></script>
	<script src="/template/NamlServlet.jtp?macro=javascript_library&amp;v=102" type="text/javascript"></script>
	<script src="http://static.nabble.com/trk5.js?826493"></script>
					<meta name="google-site-verification" content="SUurO4gVJ46SZyzANkH4pJBGH8q-6Bv5P-ZgRBH8Cck" />
            <script type="text/javascript">
		var terms = Nabble.getSearchTerms();
		var hasTurnOff = false;
		Nabble.searchHighlight = function($elem) {
			if (terms != null && terms.length > 0) {
				$elem.each(function() {
					Nabble.highlightSearchTerms(terms, this);
				});
				if (Nabble.hasHighlightedTerms && !hasTurnOff) {
					var turnOffLink = '<span id="turn-off-highlight-control"><span class="highlight">&nbsp;X&nbsp;</span> ';
					turnOffLink += '<a href="javascript:void(0)" onclick="Nabble.turnOffHighlight()">Turn off highlighting</a></span>';
					$('#topics-controls-right').prepend(turnOffLink);
					hasTurnOff = true;
				}
			}
		};
		Nabble.turnOffHighlight = function() {
			Nabble.deleteCookie("query");
			Nabble.deleteCookie("searchuser");
			Nabble.deleteCookie("searchterms");
			$('span.search-highlight').removeClass('bold highlight');
			$('#turn-off-highlight-control').hide();
		};
	</script>
	<script type="text/javascript">
		Nabble.messageTextWidth();
	</script>
			<script type="text/javascript"> $(document).ready(function() { Nabble.searchHighlight($('h2.post-subject,div.message-text')); }); </script> <script type="text/javascript"> var _hash = Nabble.hash(); if (_hash) { (function(){ var post = _hash.substr(2); var allPosts = [4675914, 4675920, 4675925, 4675928]; var allURLs = ["/FFMpeg-Streaming-via-UDP-td4675914.html"]; var iPost = allPosts.indexOf(parseInt(post)); var lower = 0; var upper = lower + 20; if (iPost != -1 && (iPost < lower || iPost >= upper)) location.replace(allURLs[Math.floor(iPost/20)]+_hash); })(); } $(document).ready(function() { var rootId = '4675914'; var currentPostId = rootId; var isChangingViews = _hash == '#none'; if (_hash && !isChangingViews) currentPostId = _hash.substr(2); Nabble.hideQuotes(); function scrollToSelectedPost() { var $arrow = $('#red-arrow'+currentPostId).show(); if ($arrow.size() > 0) { var isRootPost = currentPostId == rootId; if (Nabble.isEmbedded) { if (Nabble.canScroll()) scrollTo(0, 0); var y = isChangingViews? null : isRootPost? 1 : $arrow.parents('div.classic-row').offset().top; Nabble.resizeFrames('', y); } else if (Nabble.canScroll() && !isRootPost) { var yPos = $arrow.offset().top; scrollTo(0,yPos-20); } } else { if (Nabble.isEmbedded && Nabble.canScroll()) { Nabble.resizeFrames('', 1); } else { var tb = $('div.top-bar').get(0); if (tb) tb.scrollIntoView(); } } }; $(window).load(scrollToSelectedPost); if (Nabble.isEmbedded) { $('div.message-text img').load(Nabble.resizeFrames); } }); </script> <style type="text/css"> div.classic-header { height:2.2em; clear:both; overflow:hidden; } div.classic-author-name { float:left; width: 140px; overflow: hidden; text-align:center; font-weight:bold; } div.classic-subject-line { left:.5em; overflow:hidden; height:1.3em; position:relative; } div.classic-right-menu { float:right; padding-left:1em; } div.classic-bar { padding:.5em .3em; clear:both; height:1.8em; } table.classic-body { border-collapse:collapse; margin-bottom:1em; table-layout: fixed; width:100%; } td.classic-author { vertical-align: top; text-align:center; width:140px; padding-bottom:1em; } td.classic-message { vertical-align:top; padding:1em; } div.message-text { cursor:text; overflow-x:auto; } div.avatar-inner { margin-left:20px; } div.avatar-outer { width:140px; text-align:left; } div.avatar-label { white-space:nowrap; font-size:80%; } </style>

	<title>FFmpeg-users - FFMpeg Streaming via UDP</title>
			<META NAME="description" CONTENT="FFMpeg Streaming via UDP. Hi everyone, I am trying to achieve a *P2P *connection via *UDP *and for that I'm following the wiki guide. On my server I am using: *ffmpeg -f dshow -video_size 640x360..."/>
			<META NAME="keywords" CONTENT="ffmpeg, streaming, via, udp, everyone, trying, achieve, p2p, connection, for, following, wiki, guide, my, server, using, -f, dshow, -video, size, 640x360, -rtbufsize, 702000k, ffmpeg-users"/>
			<style type="text/css">
			#search-box-dropdown {
				text-align:left;
				position:absolute;
				display:none;
				z-index:1000;
				overflow:hidden;
			}
		</style>
		<script type="text/javascript">
			$(document).ready(function() {
				var $sdd = $('#search-box-dropdown');
				var $sb = $('#search-input');
				var $form = $sb.parent();
				var timeout;
				$(document).click(function(o){
					var $target = $(o.target);
					if ($target.parents().hasClass('search-box-dropdown')) {
						clearTimeout(timeout);
						$sb.focus();
					}
				});
				$sb.focusin(function(e) {
					$sdd.css('left', $sb.position().left - 5);
					$sdd.width($sb.outerWidth() + 10);
					$sdd.show();
				});
				$sb.focusout(function() {
					timeout = setTimeout(function() {
						$sdd.hide();
					},250);
				});
				$('input[type=radio]', $sdd).change(function() {
					var nodeId = $(this).val();
					$('input[name="node"]', $form).val(nodeId);
				});
				$('input[name="node"]', $form).val(933282);
			});
		</script><script type="text/javascript">
			Nabble.setView = function(view,url,post) {
				Nabble.setVar("tview",view);
				url += Nabble.getClientID(';');
				if (url.indexOf('#') == -1)
					url += '#none';
				location.replace(url);
			};
		</script><style type="text/css"> div.nabble-tooltip, div.nabble-tooltip * { color: #EEE; font-weight:bold; } div.nabble-tooltip { background: #000; font-size:90%; line-height:normal; display: none; position: absolute; z-index: 88888; padding: .5em; border: 1px solid #FFF; white-space:normal; -moz-border-radius: 3px; -webkit-border-radius: 3px; border-radius: 3px; } div.nabble-tooltip-small-row, div.nabble-tooltip-small-row * { color:#D0EAF2; } div.nabble-tooltip-small-row { font-size:80%; font-weight:normal; padding-top: .4em; } div.nabble-tooltip-arrow { font: 40px Arial, Sans-serif; line-height:1em; left:15px; position:absolute; bottom:-15px; height:15px; width:30px; overflow:hidden; } div.nabble-tooltip-arrow div { position:absolute; } div.nabble-tooltip-arrow div.d1 { top:-22px; color: #FFF; } div.nabble-tooltip-arrow div.d2 { top:-25px; color: #000; } </style> <script type="text/javascript"> Nabble.startTooltip = function(e, position, delay) { if (e.nabbletooltip) return; e.nabbletooltip = true; var $this = $(e); var $arrow = $this.children().last(); var $elem = $this.prev(); $elem.hover( function() { setTip(); setTimer(); }, function() { stopTimer(); $this.hide(); } ); function setTimer() { $this.showTipTimer = setTimeout(function() { $('div.nabble-tooltip').hide(); stopTimer(); $this.fadeTo('fast', .8); }, delay); }; function stopTimer() { clearInterval($this.showTipTimer); }; function setTip(){ if ($this.parent().get() != document.body) $(document.body).append($this); var useTitle = $this.attr('use_title') == 'true'; if (useTitle) { var title = $elem.attr('title'); if (title != '') { $arrow.remove(); $this.html(title); $elem.attr('title',''); $this.append($arrow); } } var win = $(window).width(); if (position == 'up') { var w = $this.outerWidth(); if (w > 250) { w = 250; $this.width(w); } var xMid = $elem.offset().left + $elem.outerWidth()/2; var xTip = xMid - w/2; if (xTip+w > win-5) xTip = win-w-5; if (xTip < 0) xTip = 0; var xArrow = xMid-xTip-11; var yTip = $elem.offset().top-$this.outerHeight()-12; $arrow.css('left', xArrow); $this.css({'top' : yTip, 'left' : xTip}); } else if (position == 'right') { var h = $this.outerHeight(); var yMid = $elem.offset().top + $elem.outerHeight()/2; var yTip = yMid - h/2; var xTip = $elem.offset().left + $elem.outerWidth() + 10; $arrow.width(8).height(24).css({bottom:0,left:-8}); var yArrow = (h - 24)/2; $arrow.css({top:yArrow}); var $d1 = $arrow.children().first(); var $d2 = $arrow.children().last(); $d1.css({top:-11}); $d2.css({top:-11,left:1}); $this.css({'top' : yTip, 'left' : xTip}); } }; }; </script><script type="text/javascript">
			Nabble.pinTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=pin_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#pin-icon').show();
					NabbleDropdown.show('unpinTopic');
					NabbleDropdown.hide('pinTopic');
					alert('This topic has been pinned.');
				});
			};
		</script><script type="text/javascript">
			Nabble.unpinTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=unpin_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#pin-icon').hide();
					NabbleDropdown.hide('unpinTopic');
					NabbleDropdown.show('pinTopic');
					alert('This topic has been unpinned.');
				});
			};
		</script><script type="text/javascript">
			Nabble.lockTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=lock_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#lock-icon').show();
					NabbleDropdown.show('unlockTopic');
					NabbleDropdown.hide('lockTopic');
					alert('This topic has been locked.');
				});
			};
		</script><script type="text/javascript">
			Nabble.unlockTopic = function(id) {
				var call = '/template/NamlServlet.jtp?macro=unlock_topic&node=' + id + Nabble.getClientID();
				$.getScript(call, function() {
					$('#lock-icon').hide();
					NabbleDropdown.hide('unlockTopic');
					NabbleDropdown.show('lockTopic');
					alert('This topic has been unlocked.');
				});
			};
		</script><script type="text/javascript" src="http://www.adbayes.com/LoadUnit.jtp?c=1"></script>
			<script type="text/javascript">
				Nabble.adbayes();
			</script><script type="text/javascript">
			Nabble.nViews = function(id, views) {
				var $v = $('#v'+id);
				var pos = views=='1'?0:1;
				var t = $v.html()? $v.html().split('|')[pos]:'';
				$v.html(t == ''? views : t.replace(/%1/g,views)).show();
			};
		</script><style type="text/css">
			img.report-flag {
				vertical-align:middle;
				cursor: pointer;
			}
			#report-inappropriate-content {
				position: fixed;
				z-index:9999;
				display:none;
				padding:1.5em;
				left:8%;
				right:8%;
				top:8%;
				background-color:#555;
			}
			#report-inappropriate-content-inner { padding:.5em; }
			#report-inappropriate-content-inner div.big {
				height:5em;
				padding-top:2em;
				text-align:center;
				font-size:250%;
			}
			#report-inappropriate-content-inner div.big2 { font-size:70%; }
			div.inappropriate-option { margin:.5em 0; }
		</style>
		<script type="text/javascript">
			var reportNodeId = null;
			Nabble.reportContent = function(nodeId) {
				reportNodeId = nodeId;
				$('#report-inappropriate-content').show();
				var url = '/template/NamlServlet.jtp?macro=report_inappropriate_content_form';
				$.get(url, function(data) {
					$('#report-inappropriate-content-inner').html(data);
				});
			}
			Nabble.closeReport = function() {
				$('#report-inappropriate-content').hide();
			}
			Nabble.sendReport = function() {
				$('#send-report-button').attr('disabled','true').addClass('toolbar-disabled');
				var type = $('input[name=report_type]:checked').val();
				var url = '/template/NamlServlet.jtp?macro=report_inappropriate_content_submit&node='+reportNodeId+'&type='+type+Nabble.getClientID();
				$.get(url, function(data) {
					var h = 'Thank You';
					h += '<div class="weak-color big2">We will review your report soon.</div>';
					h += '<a href="javascript: void Nabble.closeReport()">Close</a>';
					$('#report-inappropriate-content-inner').html('<div class="big">'+h+'</div>');
				});
			}
		</script>
					<script type="text/javascript">
		Nabble.setFontSize();
		
	</script>
	<script type="text/javascript">
		if (Nabble.analytics) Nabble.analytics();
	</script>
	<!-- Start Quantcast tag -->
	<script type="text/javascript">
		_qoptions={ qacct:"p-34EL1DZyJypTI" };
	</script>
	<script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script>
	<noscript>
		<a href="http://www.quantcast.com/p-34EL1DZyJypTI" target="_blank" rel="nofollow">
			<img src="http://pixel.quantserve.com/pixel/p-34EL1DZyJypTI.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
		</a>
	</noscript>
	<!-- End Quantcast tag -->
	<!-- Start Google Analytics -->
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['nabble._setAccount', 'UA-91855-9']);
		_gaq.push(['nabble._trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
	<!-- End Google Analytics -->
	<script type="text/javascript">
		var site_admins = [136633, 75518];
	</script>
	<script type="text/javascript">
		var isSafe = true;
		var Ads = Ads || {};
		Ads.text = {
			daysLeft: 'Trial period ends in $1 day(s)',
			removeAds: 'Remove Ads',
			buyCredits: 'Upgrade'
		};
		$(document).ready(function() {
			if (Nabble.wasCreatedRecently && Nabble.currentCredits == 0 && isSafe) {
				var s = '<div class="weak-color" style="text-align:center;margin:1em;font-size:80%">';
				s += Ads.text.daysLeft.replace(/\$1/,daysLeft)+' &ndash; ';
				s += '<a href="/template/NamlServlet.jtp?macro=site_payment">'+(Nabble.isSafe?Ads.text.removeAds:Ads.text.buyCredits)+'</a>';
				s += '</div>';
				var isAdmin = Nabble.userId && site_admins.indexOf(Number(Nabble.userId)) >= 0;
				isAdmin && $('div.nabble').append(s);
			}
		});
	</script>
	<script type="text/javascript">
		$(document).ready(function() {
			if (Nabble.userId && site_admins.indexOf(Number(Nabble.userId)) >= 0)
				$('div.no-ads-message').show();
		});
	</script>
				</head>
				<body>
					<div id="notice" class="notice rounded-bottom"></div>
					<div class="nabble macro_classic_forum_topic" id="nabble">
						
			
			<div class="top-bar">
		<div class="breadcrumbs" style="float:left">
			<span id="breadcrumbs" class="weak-color">
		
				<a href="http://ffmpeg-users.933282.n4.nabble.com/">FFmpeg-users</a>
	</span>
		</div>
		<div style="text-align:right;">
			<span style="white-space:nowrap;" id="nabble-user-header"></span>
	<script type="text/javascript">Nabble.userHeader();</script>
		</div>
	</div>
            
			<div id="nabble-newsflash" class="info-message" style="display:none;padding:.5em;margin-bottom:.5em"></div>
	
			<div id="topic-search-box" class="search-box float-right" style="padding:.5em 0">
		<form action="/template/NamlServlet.jtp">
		<input type="hidden" name="macro" value="search_page" />
		<input type="hidden" name="node" value="4675914" />
		
		
		
		<input id="search-input" name="query" size="18" class="medium-border-color"/>
		<div id="search-box-dropdown" class="search-box-dropdown light-bg-color drop-shadow border1 medium-border-color rounded-bottom">
		<div style="margin:.5em .5em 0 .5em">
					<b>Search</b><br/>
					<input id="search-root-node" type="radio" name="n" value="933282" checked="true"/>
					<label for="search-root-node">everywhere</label><br/>

					<input id="search-this-node" type="radio" name="n" value="4675914"/>
					<label for="search-this-node">
						only in this topic
					</label>
				</div>
		<div style="margin:.5em;line-height:2em">
			<input class="toolbar action-button float-right" type="submit" value="Search"/>
			<a href="/template/NamlServlet.jtp?macro=adv_search_page&amp;node=4675914" rel="nofollow" style="font-size:80%">Advanced Search</a>
		</div>
	</div>
	</form>
	</div>

	<h1 id="post-title" class="adbayes-content" style="margin:0.25em 0 .8em">
		FFMpeg Streaming via UDP
	</h1>
	<div style="margin:-1em 0 2em">
		<span style="float:left;white-space:nowrap">
					<sub class="weak-color" style="font-size:180%">&lsaquo;</sub>
					<a href="http://ffmpeg-users.933282.n4.nabble.com/C-compiler-test-failed-please-help-me-tp4675907.html">Previous Topic</a>
				</span>

		<span style="float:right;white-space:nowrap">
					<a href="http://ffmpeg-users.933282.n4.nabble.com/ffmpeg-mpegts-working-on-linux-not-on-windows-tp4675917.html">Next Topic</a>
					<sub class="weak-color" style="font-size:180%">&rsaquo;</sub>
				</span>
		<div style="clear:both;height:0">&nbsp;</div>
	</div>
			<div style="margin:1.2em 0 5em">
		<div id="topics-controls-left" class="float-left nowrap">
			<table>
		<tr>
			<td style="padding-right:.1em">
		<img src="/images/view-classic.gif" width="18" height="18" style="border:none" alt="classic"/>
	</td>

	<td style="padding-right:1.1em">
		Classic
	</td>

			<td style="padding-right:.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('list', '/FFMpeg-Streaming-via-UDP-tc4675914.html',null)"><img src="/images/view-list.gif" width="18" height="18" style="border:none" alt="list"/></a>
	</td>

	<td style="padding-right:1.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('list', '/FFMpeg-Streaming-via-UDP-tc4675914.html',null)">List</a>
	</td>

			<td style="padding-right:.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/FFMpeg-Streaming-via-UDP-tt4675914.html',null)"><img src="/images/view-threaded.gif" width="18" height="18" style="border:none" alt="threaded"/></a>
	</td>

	<td style="padding-right:1.1em">
		<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/FFMpeg-Streaming-via-UDP-tt4675914.html',null)">Threaded</a>
	</td>
		</tr>
	</table>
		</div>
		<div id="topics-controls-right" class="float-right nowrap" style="padding-top:.3em">
			<span style="padding-right:1em;height:21px">
		<img id="pin-icon" src="/images/pin.png" width="20" height="21" title="This topic has been pinned in FFmpeg-users." style="vertical-align:middle;display:none;"/>
		<div id="tooltip95032" class="nabble-tooltip" use_title="true">
		
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip95032'), 'up', 400);
	</script>
	</span>
	<span id="lock-icon" class="weak-color" style="padding:0 .5em;margin-right:.5em;display:none;">
		<img src="/images/lock_sm.png" width="10" height="15" style="vertical-align:middle"/> Locked
	</span>
	<span style="padding-right:1em">
		4 messages
	</span>
	<img src="/images/gear.png" class="image16" alt="Options"/>
	<span id="dd_topicdropdown"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("topicdropdown", "Options","Click for more options");
		
		dropdown.add('topicSubscriptionLink', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dsubscribe&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3ESubscribe via email\x3C/a\x3E');
		dropdown.addSeparator();
		dropdown.add('moveTopic', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3EMove topic\x3C/a\x3E', 'display:none');
		dropdown.add('pinTopic', '\x3Ca href\x3D\"javascript: void Nabble.pinTopic(4675914)\" rel\x3D\"nofollow\"\x3EPin topic\x3C/a\x3E', 'display:none');
		dropdown.add('unpinTopic', '\x3Ca href\x3D\"javascript: void Nabble.unpinTopic(4675914)\" rel\x3D\"nofollow\"\x3EUnpin topic\x3C/a\x3E', 'display:none');
		dropdown.add('lockTopic', '\x3Ca href\x3D\"javascript: void Nabble.lockTopic(4675914)\" rel\x3D\"nofollow\"\x3ELock topic\x3C/a\x3E', 'display:none');
		dropdown.add('unlockTopic', '\x3Ca href\x3D\"javascript: void Nabble.unlockTopic(4675914)\" rel\x3D\"nofollow\"\x3EUnlock topic\x3C/a\x3E', 'display:none');
		dropdown.add('deleteRecursively', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(4675914)\" rel\x3D\"nofollow\"\x3EDelete this topic\x3C/a\x3E', 'display:none');
			dropdown.add('deletePost', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(4675914)\" rel\x3D\"nofollow\"\x3EDelete this topic\x3C/a\x3E', 'display:none');
		dropdown.add('changeMetaTags', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_title_and_meta_tags&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3EChange title and meta tags\x3C/a\x3E', 'display:none');
		dropdown.add('embedPost4675914', '\x3Ca href\x3D\"/embed/EmbedOptions.jtp?node\x3D4675914\" rel\x3D\"nofollow\"\x3EEmbed post\x3C/a\x3E');
		dropdown.add('permalink4675914', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://ffmpeg-users.933282.n4.nabble.com/FFMpeg-Streaming-via-UDP-tp4675914.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.build('dd_topicdropdown');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=topic_dropdown_later&node=4675914' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
		</div>
	</div>
			<div id="topic-contents" style="margin-top:1em;clear:both">
		<div id="classic-contents">
		
		<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=377372">Bogdan Mariesan</a>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="/template/NamlServlet.jtp?macro=reply&amp;node=4675914" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/FFMpeg-Streaming-via-UDP-tt4675914.html',4675914)">Threaded</a>
	<div id="tooltip69911" class="nabble-tooltip" use_title="false">
		Open this post in threaded view
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip69911'), 'up', 400);
	</script> |
					<span id="dd_postdropdown4675914"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("postdropdown4675914", "More","Click for more options");
		
		dropdown.add('replyToAuthor4675914', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D4675914\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost4675914', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost4675914', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost4675914', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(4675914)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively4675914', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(4675914)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate4675914', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print4675914', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink4675914', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://ffmpeg-users.933282.n4.nabble.com/FFMpeg-Streaming-via-UDP-tp4675914.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail4675914', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D4675914\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social4675914', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DFFMpeg+Streaming+via+UDP&amp;related\x3DFFmpeg-users&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;t\x3DFFMpeg+Streaming+via+UDP\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;title\x3DFFMpeg+Streaming+via+UDP\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;title\x3DFFMpeg+Streaming+via+UDP\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;title\x3DFFMpeg+Streaming+via+UDP\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;title\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;source\x3DFFmpeg-users\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914.html&amp;title\x3DFFMpeg+Streaming+via+UDP\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown4675914');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=4675914' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
					&nbsp;
					<img src="/images/flag_gray.png" class="report-flag" onclick="Nabble.reportContent(4675914)"/>
	<div id="tooltip4748" class="nabble-tooltip" use_title="false">
		Report Content as Inappropriate
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip4748'), 'up', 400);
	</script>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow4675914" class="float-left invisible" style="margin-top:.2em">
		<img title="Selected post" width="15" height="15" src="/images/arrow.png" alt="Selected post"/>
	</span>
					<span class="post-date float-left">
		<span id="d1462366885568-192"></span><script type="text/javascript">
		Nabble.get('d1462366885568-192').innerHTML= Nabble.formatDateLong(new Date(1462366885568));
	</script>
	</span>
					<h2 class="post-subject float-left adbayes-content" style="width:30%;overflow:visible;font-family:inherit">
		FFMpeg Streaming via UDP
	</h2>
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=377372" rel="nofollow" title="View profile of Bogdan Mariesan" class="nowrap no-decoration"><img class="avatar medium-border-color" src="http://www.gravatar.com/avatar/fdb13e5f9ddebec2a8c0ac11a7071620?s=100&amp;r=pg&amp;d=http%3A%2F%2Fn4.nabble.com%2Fimages%2Favatar100.png" height="100" width="100" alt="Bogdan Mariesan" title="Bogdan Mariesan"/><img src="/images/online.png" class="online377372 online invisible" title="User is online" alt="online"/></a>

	
	
		</div>
	</div>
	
	
	<div class="post-count377372 avatar-label weak-color"></div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div id="message4675914" class="message-text adbayes-content">
		Hi everyone,
<br/><br/>I am trying to achieve a *P2P *connection via *UDP *and for that I'm
<br/>following the wiki guide.
<br/><br/>On my server I am using:
<br/><br/>*ffmpeg -f dshow -video_size 640x360 -rtbufsize 702000k -framerate 30 -i
<br/>video=&quot;Integrated Camera&quot;:audio=&quot;Microphone (5- Logitech USB Headset H340)&quot;
<br/>-r 30 -threads 4 -vcodec libx264 -pix_fmt yuv420p -tune zerolatency -preset
<br/>ultrafast -f mpegts udp:/10.166.141.198:23202 &lt;<a href="http://10.166.141.198:23202" target="_top" rel="nofollow" link="external">http://10.166.141.198:23202</a>&gt;*
<br/><br/>Where *10.166.141.198 *is the IP of an Android device and *23202 *is the
<br/>UDP port opened by the NAT after doing UDP hole punching.
<br/><br/>Based on the example in the guide (
<br/><a href="https://trac.ffmpeg.org/wiki/StreamingGuide" target="_top" rel="nofollow" link="external">https://trac.ffmpeg.org/wiki/StreamingGuide</a>) I assume on the client I have
<br/>to connect to the client in a similar manner. I might be wrong here since
<br/>the guide uses the same IP address for both client and server.
<br/><br/>So on the client I am connection the URL *udp://5.2.55.19:51810?localport=50341
<br/>&lt;<a href="http://5.2.55.19:51810?localport=50341" target="_top" rel="nofollow" link="external">http://5.2.55.19:51810?localport=50341</a>&gt;*.
<br/>Where *5.2.55.19 *is the IP of the serverm *51810 *is the public port and
<br/>*50341* is the private port obtained after doing UDP hole punching.
<br/>On the client side the stream seems to work but on my mobile device the app
<br/>i have built using IJKPlayer (<a href="https://github.com/Bilibili/ijkplayer" target="_top" rel="nofollow" link="external">https://github.com/Bilibili/ijkplayer</a>)
<br/>doesn't display my stream. So is it due to the way I am listening for the
<br/>UDP stream?
<br/><br/><br/>Client side log:
<br/><br/>ffmpeg version N-79630-g9ac154d Copyright (c) 2000-2016 the FFmpeg
<br/>developers
<br/>&nbsp; built with gcc 5.3.0 (GCC)
<br/>&nbsp; configuration: --enable-gpl --enable-version3 --disable-w32threads
<br/>--enable-avisynth --enable-bzlib --enable-fontconfig --enable-frei0r
<br/>--enable-gnutls --enable-iconv --enable-libass --enable-libbluray
<br/>--enable-libbs2b --enable-libcaca --enable-libfreetype --enable-libgme
<br/>--enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmfx
<br/>--enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb
<br/>--enable-libopenjpeg --enable-libopus --enable-librtmp
<br/>--enable-libschroedinger --enable-libsnappy --enable-libsoxr
<br/>--enable-libspeex --enable-libtheora --enable-libtwolame
<br/>--enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis
<br/>--enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264
<br/>--enable-libx265 --enable-libxavs --enable-libxvid --enable-libzimg
<br/>--enable-lzma --enable-decklink --enable-zlib
<br/>&nbsp; libavutil &nbsp; &nbsp; &nbsp;55. 22.101 / 55. 22.101
<br/>&nbsp; libavcodec &nbsp; &nbsp; 57. 38.100 / 57. 38.100
<br/>&nbsp; libavformat &nbsp; &nbsp;57. 34.103 / 57. 34.103
<br/>&nbsp; libavdevice &nbsp; &nbsp;57. &nbsp;0.101 / 57. &nbsp;0.101
<br/>&nbsp; libavfilter &nbsp; &nbsp; 6. 44.100 / &nbsp;6. 44.100
<br/>&nbsp; libswscale &nbsp; &nbsp; &nbsp;4. &nbsp;1.100 / &nbsp;4. &nbsp;1.100
<br/>&nbsp; libswresample &nbsp; 2. &nbsp;0.101 / &nbsp;2. &nbsp;0.101
<br/>&nbsp; libpostproc &nbsp; &nbsp;54. &nbsp;0.100 / 54. &nbsp;0.100
<br/>Guessed Channel Layout for &nbsp;Input Stream #0.1 : stereo
<br/>Input #0, dshow, from 'video=Integrated Camera:audio=Microphone (5-
<br/>Logitech USB Headset H340)':
<br/>&nbsp; Duration: N/A, start: 1386931.560000, bitrate: N/A
<br/>&nbsp; &nbsp; Stream #0:0: Video: rawvideo, bgr24, 640x360, 30 fps, 31 tbr, 10000k tbn
<br/>&nbsp; &nbsp; Stream #0:1: Audio: pcm_s16le, 44100 Hz, 2 channels, s16, 1411 kb/s
<br/>[libx264 @ 0000000008a4be20] using cpu capabilities: MMX2 SSE2Fast SSSE3
<br/>SSE4.2 AVX FMA3 AVX2 LZCNT BMI2
<br/>[libx264 @ 0000000008a4be20] profile Constrained Baseline, level 3.0
<br/>[mpegts @ 00000000086fd880] Using AVStream.codec to pass codec parameters
<br/>to muxers is deprecated, use AVStream.codecpar instead.
<br/>&nbsp; &nbsp; Last message repeated 1 times
<br/>Output #0, mpegts, to 'udp://109.166.141.198:61623?localport=53366':
<br/>&nbsp; Metadata:
<br/>&nbsp; &nbsp; encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavf57.34.103
<br/>&nbsp; &nbsp; Stream #0:0: Video: h264, yuv420p, 640x360, q=2-31, 30 fps, 90k tbn
<br/>&nbsp; &nbsp; Metadata:
<br/>&nbsp; &nbsp; &nbsp; encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavc57.38.100 libx264
<br/>&nbsp; &nbsp; Side data:
<br/>&nbsp; &nbsp; &nbsp; cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
<br/>&nbsp; &nbsp; Stream #0:1: Audio: mp2, 44100 Hz, stereo, s16, 384 kb/s
<br/>&nbsp; &nbsp; Metadata:
<br/>&nbsp; &nbsp; &nbsp; encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavc57.38.100 mp2
<br/>Stream mapping:
<br/>&nbsp; Stream #0:0 -&gt; #0:0 (rawvideo (native) -&gt; h264 (libx264))
<br/>&nbsp; Stream #0:1 -&gt; #0:1 (pcm_s16le (native) -&gt; mp2 (native))
<br/>Press [q] to stop, [?] for help
<br/>Past duration 0.659996 too large
<br/>Past duration 0.699989 too large
<br/>Past duration 0.739998 too large
<br/>Past duration 0.779991 too large
<br/>Past duration 0.619987 too large
<br/>Past duration 0.659996 too large
<br/>Past duration 0.699989 too large
<br/>frame= &nbsp; 23 fps=0.0 q=22.0 size= &nbsp; &nbsp; 122kB time=00:00:01.13 bitrate=
<br/>878.5kbits/s speed=2.26x
<br/>Past duration 0.739998 too large
<br/>Past duration 0.779991 too large
<br/>Past duration 0.619987 too large
<br/>Past duration 0.629997 too large
<br/>Past duration 0.669991 too large
<br/>Past duration 0.679985 too large
<br/>Past duration 0.689995 too large
<br/>frame= &nbsp; 37 fps= 37 q=22.0 size= &nbsp; &nbsp; 201kB time=00:00:01.60
<br/>bitrate=1031.2kbits/s speed= 1.6x
<br/>Past duration 0.699989 too large
<br/>Past duration 0.739998 too large
<br/>Past duration 0.749992 too large
<br/>frame= &nbsp; 53 fps= 35 q=22.0 size= &nbsp; &nbsp; 275kB time=00:00:02.13
<br/>bitrate=1054.7kbits/s speed=1.42x
<br/><br/>Kind regards,
<br/><br/>*Bogdan Emil Mariesan*
<br/>Senior Software Engineer
<br/><br/>*BuddyGuard UG* (haftungsbeschr√§nkt)
<br/>Dircksenstr. 40
<br/>10178 Berlin
<br/><br/>m: &nbsp; &nbsp; &nbsp; &nbsp; +40 743 901 331
<br/>w. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; www.buddyguard.io
<br/>_______________________________________________
<br/>ffmpeg-user mailing list
<br/><a href="/user/SendEmail.jtp?type=node&node=4675914&i=0" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/><a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/><br/>To unsubscribe, visit link above, or email
<br/><a href="/user/SendEmail.jtp?type=node&node=4675914&i=1" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.

	
	
	
	</div>
	<script type="text/javascript">
				Nabble.ads('first_classic_message');
			</script>
			
				</td>
			</tr>
		</table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=375421">Andy Furniss-2</a>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="/template/NamlServlet.jtp?macro=reply&amp;node=4675920" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/FFMpeg-Streaming-via-UDP-tt4675914.html#a4675920',4675920)">Threaded</a>
	<div id="tooltip60984" class="nabble-tooltip" use_title="false">
		Open this post in threaded view
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip60984'), 'up', 400);
	</script> |
					<span id="dd_postdropdown4675920"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("postdropdown4675920", "More","Click for more options");
		
		dropdown.add('replyToAuthor4675920', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D4675920\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost4675920', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D4675920\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost4675920', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D4675920\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost4675920', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(4675920)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively4675920', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(4675920)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate4675920', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D4675920\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print4675920', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D4675920\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink4675920', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://ffmpeg-users.933282.n4.nabble.com/FFMpeg-Streaming-via-UDP-tp4675914p4675920.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail4675920', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D4675920\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social4675920', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+FFMpeg+Streaming+via+UDP&amp;related\x3DFFmpeg-users&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;t\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;title\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;source\x3DFFmpeg-users\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675920.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown4675920');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=4675920' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
					&nbsp;
					<img src="/images/flag_gray.png" class="report-flag" onclick="Nabble.reportContent(4675920)"/>
	<div id="tooltip97809" class="nabble-tooltip" use_title="false">
		Report Content as Inappropriate
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip97809'), 'up', 400);
	</script>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow4675920" class="float-left invisible" style="margin-top:.2em">
		<img title="Selected post" width="15" height="15" src="/images/arrow.png" alt="Selected post"/>
	</span>
					<span class="post-date float-left">
		<span id="d1462403101734-470"></span><script type="text/javascript">
		Nabble.get('d1462403101734-470').innerHTML= Nabble.formatDateLong(new Date(1462403101734));
	</script>
	</span>
					<h2 class="post-subject float-left adbayes-content" style="width:30%;overflow:visible;font-family:inherit">
		Re: FFMpeg Streaming via UDP
	</h2>
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=375421" rel="nofollow" title="View profile of Andy Furniss-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="http://www.gravatar.com/avatar/e7144f42dc9756759139313c365cd6a7?s=100&amp;r=pg&amp;d=http%3A%2F%2Fn4.nabble.com%2Fimages%2Favatar100.png" height="100" width="100" alt="Andy Furniss-2" title="Andy Furniss-2"/><img src="/images/online.png" class="online375421 online invisible" title="User is online" alt="online"/></a>

	
	
		</div>
	</div>
	
	
	<div class="post-count375421 avatar-label weak-color"></div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div id="message4675920" class="message-text adbayes-content">
		Bogdan Mariesan wrote:
<div class='shrinkable-quote'><br/>&gt; Hi everyone,
<br/>&gt;
<br/>&gt; I am trying to achieve a *P2P *connection via *UDP *and for that I'm
<br/>&gt; following the wiki guide.
<br/>&gt;
<br/>&gt; On my server I am using:
<br/>&gt;
<br/>&gt; *ffmpeg -f dshow -video_size 640x360 -rtbufsize 702000k -framerate 30 -i
<br/>&gt; video=&quot;Integrated Camera&quot;:audio=&quot;Microphone (5- Logitech USB Headset H340)&quot;
<br/>&gt; -r 30 -threads 4 -vcodec libx264 -pix_fmt yuv420p -tune zerolatency -preset
<br/>&gt; ultrafast -f mpegts udp:/10.166.141.198:23202 &lt;<a href="http://10.166.141.198:23202" target="_top" rel="nofollow" link="external">http://10.166.141.198:23202</a>&gt;*
</div><br/>Well I'm lost already as 10/8 is a local address, plus what's the http bit?
<br/><br/>&gt;
<br/>&gt; Where *10.166.141.198 *is the IP of an Android device and *23202 *is the
<br/>&gt; UDP port opened by the NAT after doing UDP hole punching.
<br/><br/>What is this udp hole punching (and why do you need it with a local 
<br/>address)?
<br/><div class='shrinkable-quote'><br/>&gt;
<br/>&gt; Based on the example in the guide (
<br/>&gt; <a href="https://trac.ffmpeg.org/wiki/StreamingGuide" target="_top" rel="nofollow" link="external">https://trac.ffmpeg.org/wiki/StreamingGuide</a>) I assume on the client I have
<br/>&gt; to connect to the client in a similar manner. I might be wrong here since
<br/>&gt; the guide uses the same IP address for both client and server.
<br/>&gt;
<br/>&gt; So on the client I am connection the URL *udp://5.2.55.19:51810?localport=50341
<br/>&gt; &lt;<a href="http://5.2.55.19:51810?localport=50341" target="_top" rel="nofollow" link="external">http://5.2.55.19:51810?localport=50341</a>&gt;*.
<br/>&gt; Where *5.2.55.19 *is the IP of the serverm *51810 *is the public port and
<br/>&gt; *50341* is the private port obtained after doing UDP hole punching.
<br/>&gt; On the client side the stream seems to work but on my mobile device the app
<br/>&gt; i have built using IJKPlayer (<a href="https://github.com/Bilibili/ijkplayer" target="_top" rel="nofollow" link="external">https://github.com/Bilibili/ijkplayer</a>)
<br/>&gt; doesn't display my stream. So is it due to the way I am listening for the
<br/>&gt; UDP stream?
<br/>&gt;
<br/>&gt;
<br/>&gt; Client side log:
<br/>&gt;
<br/>&gt; ffmpeg version N-79630-g9ac154d Copyright (c) 2000-2016 the FFmpeg
<br/>&gt; developers
<br/>&gt; &nbsp; &nbsp;built with gcc 5.3.0 (GCC)
<br/>&gt; &nbsp; &nbsp;configuration: --enable-gpl --enable-version3 --disable-w32threads
<br/>&gt; --enable-avisynth --enable-bzlib --enable-fontconfig --enable-frei0r
<br/>&gt; --enable-gnutls --enable-iconv --enable-libass --enable-libbluray
<br/>&gt; --enable-libbs2b --enable-libcaca --enable-libfreetype --enable-libgme
<br/>&gt; --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmfx
<br/>&gt; --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb
<br/>&gt; --enable-libopenjpeg --enable-libopus --enable-librtmp
<br/>&gt; --enable-libschroedinger --enable-libsnappy --enable-libsoxr
<br/>&gt; --enable-libspeex --enable-libtheora --enable-libtwolame
<br/>&gt; --enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis
<br/>&gt; --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264
<br/>&gt; --enable-libx265 --enable-libxavs --enable-libxvid --enable-libzimg
<br/>&gt; --enable-lzma --enable-decklink --enable-zlib
<br/>&gt; &nbsp; &nbsp;libavutil &nbsp; &nbsp; &nbsp;55. 22.101 / 55. 22.101
<br/>&gt; &nbsp; &nbsp;libavcodec &nbsp; &nbsp; 57. 38.100 / 57. 38.100
<br/>&gt; &nbsp; &nbsp;libavformat &nbsp; &nbsp;57. 34.103 / 57. 34.103
<br/>&gt; &nbsp; &nbsp;libavdevice &nbsp; &nbsp;57. &nbsp;0.101 / 57. &nbsp;0.101
<br/>&gt; &nbsp; &nbsp;libavfilter &nbsp; &nbsp; 6. 44.100 / &nbsp;6. 44.100
<br/>&gt; &nbsp; &nbsp;libswscale &nbsp; &nbsp; &nbsp;4. &nbsp;1.100 / &nbsp;4. &nbsp;1.100
<br/>&gt; &nbsp; &nbsp;libswresample &nbsp; 2. &nbsp;0.101 / &nbsp;2. &nbsp;0.101
<br/>&gt; &nbsp; &nbsp;libpostproc &nbsp; &nbsp;54. &nbsp;0.100 / 54. &nbsp;0.100
<br/>&gt; Guessed Channel Layout for &nbsp;Input Stream #0.1 : stereo
<br/>&gt; Input #0, dshow, from 'video=Integrated Camera:audio=Microphone (5-
<br/>&gt; Logitech USB Headset H340)':
<br/>&gt; &nbsp; &nbsp;Duration: N/A, start: 1386931.560000, bitrate: N/A
<br/>&gt; &nbsp; &nbsp; &nbsp;Stream #0:0: Video: rawvideo, bgr24, 640x360, 30 fps, 31 tbr, 10000k tbn
<br/>&gt; &nbsp; &nbsp; &nbsp;Stream #0:1: Audio: pcm_s16le, 44100 Hz, 2 channels, s16, 1411 kb/s
<br/>&gt; [libx264 @ 0000000008a4be20] using cpu capabilities: MMX2 SSE2Fast SSSE3
<br/>&gt; SSE4.2 AVX FMA3 AVX2 LZCNT BMI2
<br/>&gt; [libx264 @ 0000000008a4be20] profile Constrained Baseline, level 3.0
<br/>&gt; [mpegts @ 00000000086fd880] Using AVStream.codec to pass codec parameters
<br/>&gt; to muxers is deprecated, use AVStream.codecpar instead.
<br/>&gt; &nbsp; &nbsp; &nbsp;Last message repeated 1 times
<br/>&gt; Output #0, mpegts, to 'udp://109.166.141.198:61623?localport=53366':
<br/>&gt; &nbsp; &nbsp;Metadata:
<br/>&gt; &nbsp; &nbsp; &nbsp;encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavf57.34.103
<br/>&gt; &nbsp; &nbsp; &nbsp;Stream #0:0: Video: h264, yuv420p, 640x360, q=2-31, 30 fps, 90k tbn
<br/>&gt; &nbsp; &nbsp; &nbsp;Metadata:
<br/>&gt; &nbsp; &nbsp; &nbsp; &nbsp;encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavc57.38.100 libx264
<br/>&gt; &nbsp; &nbsp; &nbsp;Side data:
<br/>&gt; &nbsp; &nbsp; &nbsp; &nbsp;cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
<br/>&gt; &nbsp; &nbsp; &nbsp;Stream #0:1: Audio: mp2, 44100 Hz, stereo, s16, 384 kb/s
<br/>&gt; &nbsp; &nbsp; &nbsp;Metadata:
<br/>&gt; &nbsp; &nbsp; &nbsp; &nbsp;encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavc57.38.100 mp2
<br/>&gt; Stream mapping:
<br/>&gt; &nbsp; &nbsp;Stream #0:0 -&gt; #0:0 (rawvideo (native) -&gt; h264 (libx264))
<br/>&gt; &nbsp; &nbsp;Stream #0:1 -&gt; #0:1 (pcm_s16le (native) -&gt; mp2 (native))
<br/>&gt; Press [q] to stop, [?] for help
<br/>&gt; Past duration 0.659996 too large
<br/>&gt; Past duration 0.699989 too large
<br/>&gt; Past duration 0.739998 too large
<br/>&gt; Past duration 0.779991 too large
<br/>&gt; Past duration 0.619987 too large
<br/>&gt; Past duration 0.659996 too large
<br/>&gt; Past duration 0.699989 too large
<br/>&gt; frame= &nbsp; 23 fps=0.0 q=22.0 size= &nbsp; &nbsp; 122kB time=00:00:01.13 bitrate=
<br/>&gt; 878.5kbits/s speed=2.26x
<br/>&gt; Past duration 0.739998 too large
<br/>&gt; Past duration 0.779991 too large
<br/>&gt; Past duration 0.619987 too large
<br/>&gt; Past duration 0.629997 too large
<br/>&gt; Past duration 0.669991 too large
<br/>&gt; Past duration 0.679985 too large
<br/>&gt; Past duration 0.689995 too large
<br/>&gt; frame= &nbsp; 37 fps= 37 q=22.0 size= &nbsp; &nbsp; 201kB time=00:00:01.60
<br/>&gt; bitrate=1031.2kbits/s speed= 1.6x
<br/>&gt; Past duration 0.699989 too large
<br/>&gt; Past duration 0.739998 too large
<br/>&gt; Past duration 0.749992 too large
<br/>&gt; frame= &nbsp; 53 fps= 35 q=22.0 size= &nbsp; &nbsp; 275kB time=00:00:02.13
<br/>&gt; bitrate=1054.7kbits/s speed=1.42x
<br/>&gt;
<br/>&gt; Kind regards,
<br/>&gt;
<br/>&gt; *Bogdan Emil Mariesan*
<br/>&gt; Senior Software Engineer
<br/>&gt;
<br/>&gt; *BuddyGuard UG* (haftungsbeschr√§nkt)
<br/>&gt; Dircksenstr. 40
<br/>&gt; 10178 Berlin
<br/>&gt;
<br/>&gt; m: &nbsp; &nbsp; &nbsp; &nbsp; +40 743 901 331
<br/>&gt; w. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; www.buddyguard.io
<br/>&gt; _______________________________________________
<br/>&gt; ffmpeg-user mailing list
<br/>&gt; <a href="/user/SendEmail.jtp?type=node&node=4675920&i=0" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/>&gt; <a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/>&gt;
<br/>&gt; To unsubscribe, visit link above, or email
<br/>&gt; <a href="/user/SendEmail.jtp?type=node&node=4675920&i=1" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.
<br/>&gt;
</div><br/>_______________________________________________
<br/>ffmpeg-user mailing list
<br/><a href="/user/SendEmail.jtp?type=node&node=4675920&i=2" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/><a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/><br/>To unsubscribe, visit link above, or email
<br/><a href="/user/SendEmail.jtp?type=node&node=4675920&i=3" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.

	
	
	
	</div>
	
			
				</td>
			</tr>
		</table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=377372">Bogdan Mariesan</a>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="/template/NamlServlet.jtp?macro=reply&amp;node=4675925" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/FFMpeg-Streaming-via-UDP-tt4675914.html#a4675925',4675925)">Threaded</a>
	<div id="tooltip30484" class="nabble-tooltip" use_title="false">
		Open this post in threaded view
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip30484'), 'up', 400);
	</script> |
					<span id="dd_postdropdown4675925"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("postdropdown4675925", "More","Click for more options");
		
		dropdown.add('replyToAuthor4675925', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D4675925\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost4675925', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D4675925\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost4675925', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D4675925\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost4675925', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(4675925)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively4675925', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(4675925)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate4675925', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D4675925\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print4675925', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D4675925\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink4675925', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://ffmpeg-users.933282.n4.nabble.com/FFMpeg-Streaming-via-UDP-tp4675914p4675925.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail4675925', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D4675925\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social4675925', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+FFMpeg+Streaming+via+UDP&amp;related\x3DFFmpeg-users&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;t\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;title\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;source\x3DFFmpeg-users\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675925.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown4675925');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=4675925' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
					&nbsp;
					<img src="/images/flag_gray.png" class="report-flag" onclick="Nabble.reportContent(4675925)"/>
	<div id="tooltip65667" class="nabble-tooltip" use_title="false">
		Report Content as Inappropriate
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip65667'), 'up', 400);
	</script>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow4675925" class="float-left invisible" style="margin-top:.2em">
		<img title="Selected post" width="15" height="15" src="/images/arrow.png" alt="Selected post"/>
	</span>
					<span class="post-date float-left">
		<span id="d1462434110032-12"></span><script type="text/javascript">
		Nabble.get('d1462434110032-12').innerHTML= Nabble.formatDateLong(new Date(1462434110032));
	</script>
	</span>
					<h2 class="post-subject float-left adbayes-content" style="width:30%;overflow:visible;font-family:inherit">
		Re: FFMpeg Streaming via UDP
	</h2>
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=377372" rel="nofollow" title="View profile of Bogdan Mariesan" class="nowrap no-decoration"><img class="avatar medium-border-color" src="http://www.gravatar.com/avatar/fdb13e5f9ddebec2a8c0ac11a7071620?s=100&amp;r=pg&amp;d=http%3A%2F%2Fn4.nabble.com%2Fimages%2Favatar100.png" height="100" width="100" alt="Bogdan Mariesan" title="Bogdan Mariesan"/><img src="/images/online.png" class="online377372 online invisible" title="User is online" alt="online"/></a>

	
	
		</div>
	</div>
	
	
	<div class="post-count377372 avatar-label weak-color"></div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div id="message4675925" class="message-text adbayes-content">
		Hi Andy,
<br/><br/>Sorry for the fuss, my email client added the http part... that was not
<br/>intended there.
<br/>On the client side I am using Java to run the FFMpeg process and in Android
<br/>using IJKPlayer to play the stream. I've added pastebin links since it
<br/>keeps the code well formatted.
<br/>Client side - <a href="http://pastebin.com/bkajPR5Q" target="_top" rel="nofollow" link="external">http://pastebin.com/bkajPR5Q</a><br/>Server used to achieve the UDP hole punching - <a href="http://pastebin.com/vEGdw3QF" target="_top" rel="nofollow" link="external">http://pastebin.com/vEGdw3QF</a><br/>Android - <a href="http://pastebin.com/gpUUQyjG" target="_top" rel="nofollow" link="external">http://pastebin.com/gpUUQyjG</a><br/><br/>UDP hole punching is the mechanism through which you can establish P2P
<br/>connections when your devices are behind routers, secure NATs etc. where a
<br/>direct connection between the devices would be impossible. This can be
<br/>achieved by having both devices connect to a public ip server via UDP. When
<br/>the connection is to the server is done, on both devices public and private
<br/>UDP ports are open by the NAT. Then a direct connection can be established
<br/>using the public IPs of the routers of the two devices by specifying the
<br/>public and private(local) ports on both sides. Hope i made it clear.
<br/><br/>So basically I'm opening a P2P connection between the two devices.
<br/><br/>The IPs reported by my UDP hole punching server are below (i've changed
<br/>them a bit for security reasons):
<br/><br/>My laptop running FFMpeg which sits behind a router
<br/>5.2.66.19-56190
<br/><br/>My Android phone using 3G/4G
<br/>109.55.132.187-52547
<br/><br/>And the log generated by FFMpeg is:
<br/><a href="http://pastebin.com/fyzyk9X1" target="_top" rel="nofollow" link="external">http://pastebin.com/fyzyk9X1</a><br/><br/>Hope it makes more sense now.
<br/><br/>Kind regards,
<br/>Bogdan
<br/><br/><br/><br/><br/>*Bogdan Emil Mariesan*
<br/>Senior Software Engineer
<br/><br/>*BuddyGuard UG* (haftungsbeschr√§nkt)
<br/>Dircksenstr. 40
<br/>10178 Berlin
<br/><br/>m: &nbsp; &nbsp; &nbsp; &nbsp; +40 743 901 331
<br/>w. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; www.buddyguard.io
<br/><br/>On Thu, May 5, 2016 at 2:33 AM, Andy Furniss &lt;<a href="/user/SendEmail.jtp?type=node&node=4675925&i=0" target="_top" rel="nofollow" link="external">[hidden email]</a>&gt; wrote:
<br/><div class='shrinkable-quote'><br/>&gt; Bogdan Mariesan wrote:
<br/>&gt;
<br/>&gt;&gt; Hi everyone,
<br/>&gt;&gt;
<br/>&gt;&gt; I am trying to achieve a *P2P *connection via *UDP *and for that I'm
<br/>&gt;&gt; following the wiki guide.
<br/>&gt;&gt;
<br/>&gt;&gt; On my server I am using:
<br/>&gt;&gt;
<br/>&gt;&gt; *ffmpeg -f dshow -video_size 640x360 -rtbufsize 702000k -framerate 30 -i
<br/>&gt;&gt; video=&quot;Integrated Camera&quot;:audio=&quot;Microphone (5- Logitech USB Headset
<br/>&gt;&gt; H340)&quot;
<br/>&gt;&gt; -r 30 -threads 4 -vcodec libx264 -pix_fmt yuv420p -tune zerolatency
<br/>&gt;&gt; -preset
<br/>&gt;&gt; ultrafast -f mpegts udp:/10.166.141.198:23202 &lt;
<br/>&gt;&gt; <a href="http://10.166.141.198:23202" target="_top" rel="nofollow" link="external">http://10.166.141.198:23202</a>&gt;*
<br/>&gt;&gt;
<br/>&gt;
<br/>&gt; Well I'm lost already as 10/8 is a local address, plus what's the http bit?
<br/>&gt;
<br/>&gt;
<br/>&gt;&gt; Where *10.166.141.198 *is the IP of an Android device and *23202 *is the
<br/>&gt;&gt; UDP port opened by the NAT after doing UDP hole punching.
<br/>&gt;&gt;
<br/>&gt;
<br/>&gt; What is this udp hole punching (and why do you need it with a local
<br/>&gt; address)?
<br/>&gt;
<br/>&gt;
<br/>&gt;&gt; Based on the example in the guide (
<br/>&gt;&gt; <a href="https://trac.ffmpeg.org/wiki/StreamingGuide" target="_top" rel="nofollow" link="external">https://trac.ffmpeg.org/wiki/StreamingGuide</a>) I assume on the client I
<br/>&gt;&gt; have
<br/>&gt;&gt; to connect to the client in a similar manner. I might be wrong here since
<br/>&gt;&gt; the guide uses the same IP address for both client and server.
<br/>&gt;&gt;
<br/>&gt;&gt; So on the client I am connection the URL *udp://
<br/>&gt;&gt; 5.2.55.19:51810?localport=50341
<br/>&gt;&gt; &lt;<a href="http://5.2.55.19:51810?localport=50341" target="_top" rel="nofollow" link="external">http://5.2.55.19:51810?localport=50341</a>&gt;*.
<br/>&gt;&gt; Where *5.2.55.19 *is the IP of the serverm *51810 *is the public port and
<br/>&gt;&gt; *50341* is the private port obtained after doing UDP hole punching.
<br/>&gt;&gt;
<br/>&gt;&gt; On the client side the stream seems to work but on my mobile device the
<br/>&gt;&gt; app
<br/>&gt;&gt; i have built using IJKPlayer (<a href="https://github.com/Bilibili/ijkplayer" target="_top" rel="nofollow" link="external">https://github.com/Bilibili/ijkplayer</a>)
<br/>&gt;&gt; doesn't display my stream. So is it due to the way I am listening for the
<br/>&gt;&gt; UDP stream?
<br/>&gt;&gt;
<br/>&gt;&gt;
<br/>&gt;&gt; Client side log:
<br/>&gt;&gt;
<br/>&gt;&gt; ffmpeg version N-79630-g9ac154d Copyright (c) 2000-2016 the FFmpeg
<br/>&gt;&gt; developers
<br/>&gt;&gt; &nbsp; &nbsp;built with gcc 5.3.0 (GCC)
<br/>&gt;&gt; &nbsp; &nbsp;configuration: --enable-gpl --enable-version3 --disable-w32threads
<br/>&gt;&gt; --enable-avisynth --enable-bzlib --enable-fontconfig --enable-frei0r
<br/>&gt;&gt; --enable-gnutls --enable-iconv --enable-libass --enable-libbluray
<br/>&gt;&gt; --enable-libbs2b --enable-libcaca --enable-libfreetype --enable-libgme
<br/>&gt;&gt; --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmfx
<br/>&gt;&gt; --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb
<br/>&gt;&gt; --enable-libopenjpeg --enable-libopus --enable-librtmp
<br/>&gt;&gt; --enable-libschroedinger --enable-libsnappy --enable-libsoxr
<br/>&gt;&gt; --enable-libspeex --enable-libtheora --enable-libtwolame
<br/>&gt;&gt; --enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis
<br/>&gt;&gt; --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264
<br/>&gt;&gt; --enable-libx265 --enable-libxavs --enable-libxvid --enable-libzimg
<br/>&gt;&gt; --enable-lzma --enable-decklink --enable-zlib
<br/>&gt;&gt; &nbsp; &nbsp;libavutil &nbsp; &nbsp; &nbsp;55. 22.101 / 55. 22.101
<br/>&gt;&gt; &nbsp; &nbsp;libavcodec &nbsp; &nbsp; 57. 38.100 / 57. 38.100
<br/>&gt;&gt; &nbsp; &nbsp;libavformat &nbsp; &nbsp;57. 34.103 / 57. 34.103
<br/>&gt;&gt; &nbsp; &nbsp;libavdevice &nbsp; &nbsp;57. &nbsp;0.101 / 57. &nbsp;0.101
<br/>&gt;&gt; &nbsp; &nbsp;libavfilter &nbsp; &nbsp; 6. 44.100 / &nbsp;6. 44.100
<br/>&gt;&gt; &nbsp; &nbsp;libswscale &nbsp; &nbsp; &nbsp;4. &nbsp;1.100 / &nbsp;4. &nbsp;1.100
<br/>&gt;&gt; &nbsp; &nbsp;libswresample &nbsp; 2. &nbsp;0.101 / &nbsp;2. &nbsp;0.101
<br/>&gt;&gt; &nbsp; &nbsp;libpostproc &nbsp; &nbsp;54. &nbsp;0.100 / 54. &nbsp;0.100
<br/>&gt;&gt; Guessed Channel Layout for &nbsp;Input Stream #0.1 : stereo
<br/>&gt;&gt; Input #0, dshow, from 'video=Integrated Camera:audio=Microphone (5-
<br/>&gt;&gt; Logitech USB Headset H340)':
<br/>&gt;&gt; &nbsp; &nbsp;Duration: N/A, start: 1386931.560000, bitrate: N/A
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Stream #0:0: Video: rawvideo, bgr24, 640x360, 30 fps, 31 tbr, 10000k
<br/>&gt;&gt; tbn
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Stream #0:1: Audio: pcm_s16le, 44100 Hz, 2 channels, s16, 1411 kb/s
<br/>&gt;&gt; [libx264 @ 0000000008a4be20] using cpu capabilities: MMX2 SSE2Fast SSSE3
<br/>&gt;&gt; SSE4.2 AVX FMA3 AVX2 LZCNT BMI2
<br/>&gt;&gt; [libx264 @ 0000000008a4be20] profile Constrained Baseline, level 3.0
<br/>&gt;&gt; [mpegts @ 00000000086fd880] Using AVStream.codec to pass codec parameters
<br/>&gt;&gt; to muxers is deprecated, use AVStream.codecpar instead.
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Last message repeated 1 times
<br/>&gt;&gt; Output #0, mpegts, to 'udp://109.166.141.198:61623?localport=53366':
<br/>&gt;&gt; &nbsp; &nbsp;Metadata:
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavf57.34.103
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Stream #0:0: Video: h264, yuv420p, 640x360, q=2-31, 30 fps, 90k tbn
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Metadata:
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp;encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavc57.38.100 libx264
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Side data:
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp;cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Stream #0:1: Audio: mp2, 44100 Hz, stereo, s16, 384 kb/s
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp;Metadata:
<br/>&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp;encoder &nbsp; &nbsp; &nbsp; &nbsp; : Lavc57.38.100 mp2
<br/>&gt;&gt; Stream mapping:
<br/>&gt;&gt; &nbsp; &nbsp;Stream #0:0 -&gt; #0:0 (rawvideo (native) -&gt; h264 (libx264))
<br/>&gt;&gt; &nbsp; &nbsp;Stream #0:1 -&gt; #0:1 (pcm_s16le (native) -&gt; mp2 (native))
<br/>&gt;&gt; Press [q] to stop, [?] for help
<br/>&gt;&gt; Past duration 0.659996 too large
<br/>&gt;&gt; Past duration 0.699989 too large
<br/>&gt;&gt; Past duration 0.739998 too large
<br/>&gt;&gt; Past duration 0.779991 too large
<br/>&gt;&gt; Past duration 0.619987 too large
<br/>&gt;&gt; Past duration 0.659996 too large
<br/>&gt;&gt; Past duration 0.699989 too large
<br/>&gt;&gt; frame= &nbsp; 23 fps=0.0 q=22.0 size= &nbsp; &nbsp; 122kB time=00:00:01.13 bitrate=
<br/>&gt;&gt; 878.5kbits/s speed=2.26x
<br/>&gt;&gt; Past duration 0.739998 too large
<br/>&gt;&gt; Past duration 0.779991 too large
<br/>&gt;&gt; Past duration 0.619987 too large
<br/>&gt;&gt; Past duration 0.629997 too large
<br/>&gt;&gt; Past duration 0.669991 too large
<br/>&gt;&gt; Past duration 0.679985 too large
<br/>&gt;&gt; Past duration 0.689995 too large
<br/>&gt;&gt; frame= &nbsp; 37 fps= 37 q=22.0 size= &nbsp; &nbsp; 201kB time=00:00:01.60
<br/>&gt;&gt; bitrate=1031.2kbits/s speed= 1.6x
<br/>&gt;&gt; Past duration 0.699989 too large
<br/>&gt;&gt; Past duration 0.739998 too large
<br/>&gt;&gt; Past duration 0.749992 too large
<br/>&gt;&gt; frame= &nbsp; 53 fps= 35 q=22.0 size= &nbsp; &nbsp; 275kB time=00:00:02.13
<br/>&gt;&gt; bitrate=1054.7kbits/s speed=1.42x
<br/>&gt;&gt;
<br/>&gt;&gt; Kind regards,
<br/>&gt;&gt;
<br/>&gt;&gt; *Bogdan Emil Mariesan*
<br/>&gt;&gt; Senior Software Engineer
<br/>&gt;&gt;
<br/>&gt;&gt; *BuddyGuard UG* (haftungsbeschr√§nkt)
<br/>&gt;&gt; Dircksenstr. 40
<br/>&gt;&gt; 10178 Berlin
<br/>&gt;&gt;
<br/>&gt;&gt; m: &nbsp; &nbsp; &nbsp; &nbsp; +40 743 901 331
<br/>&gt;&gt; w. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; www.buddyguard.io
<br/>&gt;&gt; _______________________________________________
<br/>&gt;&gt; ffmpeg-user mailing list
<br/>&gt;&gt; <a href="/user/SendEmail.jtp?type=node&node=4675925&i=1" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/>&gt;&gt; <a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/>&gt;&gt;
<br/>&gt;&gt; To unsubscribe, visit link above, or email
<br/>&gt;&gt; <a href="/user/SendEmail.jtp?type=node&node=4675925&i=2" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.
<br/>&gt;&gt;
<br/>&gt;&gt;
<br/>&gt; _______________________________________________
<br/>&gt; ffmpeg-user mailing list
<br/>&gt; <a href="/user/SendEmail.jtp?type=node&node=4675925&i=3" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/>&gt; <a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/>&gt;
<br/>&gt; To unsubscribe, visit link above, or email
<br/>&gt; <a href="/user/SendEmail.jtp?type=node&node=4675925&i=4" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.
</div>_______________________________________________
<br/>ffmpeg-user mailing list
<br/><a href="/user/SendEmail.jtp?type=node&node=4675925&i=5" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/><a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/><br/>To unsubscribe, visit link above, or email
<br/><a href="/user/SendEmail.jtp?type=node&node=4675925&i=6" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.

	
	
	
	</div>
	
			
				</td>
			</tr>
		</table>
	</div>
	<div class="classic-row">
		<div class="classic-header">
			<div class="classic-bar shaded-bg-color rounded-top">
				<div class="classic-author-name nowrap">
					<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=375421">Andy Furniss-2</a>
				</div>
				<div class="classic-right-menu shaded-bg-color weak-color">
					<a href="/template/NamlServlet.jtp?macro=reply&amp;node=4675928" rel="nofollow">Reply</a> |
					<a href="javascript:void(0)" onclick="Nabble.setView('threaded', '/FFMpeg-Streaming-via-UDP-tt4675914.html#a4675928',4675928)">Threaded</a>
	<div id="tooltip32290" class="nabble-tooltip" use_title="false">
		Open this post in threaded view
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip32290'), 'up', 400);
	</script> |
					<span id="dd_postdropdown4675928"></span>
	<script type="text/javascript">
		var dropdown = new NabbleDropdown("postdropdown4675928", "More","Click for more options");
		
		dropdown.add('replyToAuthor4675928', '\x3Ca href\x3D\"/user/SendEmail.jtp?type\x3Dpm&amp;post\x3D4675928\" rel\x3D\"nofollow\"\x3EReply to author\x3C/a\x3E', 'display:none');
		dropdown.add('editPost4675928', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dedit_post&amp;node\x3D4675928\" rel\x3D\"nofollow\"\x3EEdit post\x3C/a\x3E', 'display:none');
		dropdown.add('movePost4675928', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dmove_node&amp;node\x3D4675928\" rel\x3D\"nofollow\"\x3EMove post\x3C/a\x3E', 'display:none');
		dropdown.add('deletePost4675928', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deletePost(4675928)\" rel\x3D\"nofollow\"\x3EDelete this post\x3C/a\x3E', 'display:none');
			dropdown.add('deleteRecursively4675928', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"Nabble.deleteFromSite(4675928)\" rel\x3D\"nofollow\"\x3EDelete this post and replies\x3C/a\x3E', 'display:none');
		dropdown.add('changePostDate4675928', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dchange_post_date&amp;node\x3D4675928\" rel\x3D\"nofollow\"\x3EChange post date\x3C/a\x3E', 'display:none');
		dropdown.add('print4675928', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Dprint_post&amp;node\x3D4675928\" rel\x3D\"nofollow\"\x3EPrint post\x3C/a\x3E');
		dropdown.add('permalink4675928', '\x3Ca href\x3D\"javascript: void(0)\" onclick\x3D\"prompt(\'Copy this:\',\'http://ffmpeg-users.933282.n4.nabble.com/FFMpeg-Streaming-via-UDP-tp4675914p4675928.html\')\"\x3EPermalink\x3C/a\x3E');
		dropdown.add('rawMail4675928', '\x3Ca href\x3D\"/template/NamlServlet.jtp?macro\x3Draw_mail&amp;node\x3D4675928\" rel\x3D\"nofollow\"\x3ERaw mail\x3C/a\x3E', 'display:none');
		dropdown.add('social4675928', '\x3Ca href\x3D\"http://twitter.com/share?text\x3DRe%3A+FFMpeg+Streaming+via+UDP&amp;related\x3DFFmpeg-users&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html\" title\x3D\"Twitter\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/twitter.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.facebook.com/share.php?v\x3D4&amp;src\x3Dbm&amp;u\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;t\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Facebook\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/facebook.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://del.icio.us/post?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Delicious\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/delicious.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.google.com/bookmarks/mark?op\x3Dadd&amp;bkmk\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Google Bookmarks\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/google.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.stumbleupon.com/submit?url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Stumble Upon\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/stumbleupon.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://www.linkedin.com/shareArticle?mini\x3Dtrue&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;title\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;source\x3DFFmpeg-users\" title\x3D\"LinkedIn\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/linkedin.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E \x3Ca href\x3D\"http://digg.com/submit?phase\x3D2&amp;url\x3Dhttp%3A%2F%2Fffmpeg-users.933282.n4.nabble.com%2FFFMpeg-Streaming-via-UDP-tp4675914p4675928.html&amp;title\x3DRe%3A+FFMpeg+Streaming+via+UDP\" title\x3D\"Digg\" target\x3D\"_blank\" ignore\x3D\"y\"\x3E \x3Cimg src\x3D\"/images/social/digg.png\" style\x3D\"width:16px;height:16px;margin-top:.2em;border:none;\"/\x3E \x3C/a\x3E','white-space:nowrap');
		dropdown.build('dd_postdropdown4675928');
		dropdown.loadOnClick('/template/NamlServlet.jtp?macro=post_dropdown_later&node=4675928' + Nabble.getClientID() + '&_=' + Math.floor(Math.random()*999999));
	</script>
					&nbsp;
					<img src="/images/flag_gray.png" class="report-flag" onclick="Nabble.reportContent(4675928)"/>
	<div id="tooltip43215" class="nabble-tooltip" use_title="false">
		Report Content as Inappropriate
		<div class="nabble-tooltip-arrow">
			<div class="d1">&diams;</div>
			<div class="d2">&diams;</div>
		</div>
	</div>
	<script type="text/javascript">
		Nabble.startTooltip(Nabble.get('tooltip43215'), 'up', 400);
	</script>
				</div>
				<div class="classic-subject-line">
					<span id="red-arrow4675928" class="float-left invisible" style="margin-top:.2em">
		<img title="Selected post" width="15" height="15" src="/images/arrow.png" alt="Selected post"/>
	</span>
					<span class="post-date float-left">
		<span id="d1462464271723-427"></span><script type="text/javascript">
		Nabble.get('d1462464271723-427').innerHTML= Nabble.formatDateLong(new Date(1462464271723));
	</script>
	</span>
					<h2 class="post-subject float-left adbayes-content" style="width:30%;overflow:visible;font-family:inherit">
		Re: FFMpeg Streaming via UDP
	</h2>
				</div>
			</div>
		</div>
		<table class="classic-body">
			<tr>
				<td class="classic-author shaded-bg-color rounded-bottom">
					<div class="avatar-outer">
		<div class="avatar-inner">
			<a href="http://ffmpeg-users.933282.n4.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=375421" rel="nofollow" title="View profile of Andy Furniss-2" class="nowrap no-decoration"><img class="avatar medium-border-color" src="http://www.gravatar.com/avatar/e7144f42dc9756759139313c365cd6a7?s=100&amp;r=pg&amp;d=http%3A%2F%2Fn4.nabble.com%2Fimages%2Favatar100.png" height="100" width="100" alt="Andy Furniss-2" title="Andy Furniss-2"/><img src="/images/online.png" class="online375421 online invisible" title="User is online" alt="online"/></a>

	
	
		</div>
	</div>
	
	
	<div class="post-count375421 avatar-label weak-color"></div>
	
				</td>
				<td class="classic-message">
					
	
	
	<div id="message4675928" class="message-text adbayes-content">
		Bogdan Mariesan wrote:
<br/>&gt; Hi Andy,
<br/>&gt;
<br/>&gt; Sorry for the fuss, my email client added the http part... that was
<br/>&gt; not intended there.
<br/><br/>OK, maybe from an ffmpeg users pov it would be best to test on a lan
<br/>without the hole punching code just to see if that part works.
<br/><br/>&gt; On the client side I am using Java to run the FFMpeg process and in
<br/>&gt; Android using IJKPlayer to play the stream. I've added pastebin links
<br/>&gt; since it keeps the code well formatted. Client side -
<br/>&gt; <a href="http://pastebin.com/bkajPR5Q" target="_top" rel="nofollow" link="external">http://pastebin.com/bkajPR5Q</a>&nbsp;Server used to achieve the UDP hole
<br/>&gt; punching - <a href="http://pastebin.com/vEGdw3QF" target="_top" rel="nofollow" link="external">http://pastebin.com/vEGdw3QF</a>&nbsp;Android -
<br/>&gt; <a href="http://pastebin.com/gpUUQyjG" target="_top" rel="nofollow" link="external">http://pastebin.com/gpUUQyjG</a><br/><br/>Missing / on line 38.
<br/><br/>I am far too lazy to check if the ports are reversed properly etc - If I
<br/>were doing this I would be looking at tcpdumps to check.
<br/><br/><div class='shrinkable-quote'><br/>&gt; UDP hole punching is the mechanism through which you can establish
<br/>&gt; P2P connections when your devices are behind routers, secure NATs
<br/>&gt; etc. where a direct connection between the devices would be
<br/>&gt; impossible. This can be achieved by having both devices connect to a
<br/>&gt; public ip server via UDP. When the connection is to the server is
<br/>&gt; done, on both devices public and private UDP ports are open by the
<br/>&gt; NAT. Then a direct connection can be established using the public IPs
<br/>&gt; of the routers of the two devices by specifying the public and
<br/>&gt; private(local) ports on both sides. Hope i made it clear.
<br/>&gt;
<br/>&gt; So basically I'm opening a P2P connection between the two devices.
<br/>&gt;
<br/>&gt; The IPs reported by my UDP hole punching server are below (i've
<br/>&gt; changed them a bit for security reasons):
</div><br/>OK, maybe it should work &quot;normally&quot; though I don't think it would be
<br/>robust with multiple clients behind the same nat as the ffmpeg server is
<br/>a different connection from the middle server so the sports could in
<br/>theory get changed.
<br/><br/>In the UK I think 3g/4g providers do carrier grade nat - I don't know
<br/>if/how that would affect things.
<br/><div class='shrinkable-quote'><br/>&gt;
<br/>&gt; My laptop running FFMpeg which sits behind a router 5.2.66.19-56190
<br/>&gt;
<br/>&gt; My Android phone using 3G/4G 109.55.132.187-52547
<br/>&gt;
<br/>&gt; And the log generated by FFMpeg is: <a href="http://pastebin.com/fyzyk9X1" target="_top" rel="nofollow" link="external">http://pastebin.com/fyzyk9X1</a><br/>&gt;
<br/>&gt; Hope it makes more sense now.
<br/>&gt;
<br/>&gt; Kind regards, Bogdan
</div>_______________________________________________
<br/>ffmpeg-user mailing list
<br/><a href="/user/SendEmail.jtp?type=node&node=4675928&i=0" target="_top" rel="nofollow" link="external">[hidden email]</a>
<br/><a href="http://ffmpeg.org/mailman/listinfo/ffmpeg-user" target="_top" rel="nofollow" link="external">http://ffmpeg.org/mailman/listinfo/ffmpeg-user</a><br/><br/>To unsubscribe, visit link above, or email
<br/><a href="/user/SendEmail.jtp?type=node&node=4675928&i=1" target="_top" rel="nofollow" link="external">[hidden email]</a> with subject &quot;unsubscribe&quot;.

	
	
	
	</div>
	
			<script type="text/javascript">
				Nabble.ads('last_classic_message');
			</script>
				</td>
			</tr>
		</table>
	</div>
	
		
	</div>
	</div>
			<div id="topic-footer" class="weak-color" style="padding-top:1em">
		&laquo;
		<a href="http://ffmpeg-users.933282.n4.nabble.com/">Return to FFmpeg-users</a>
		&nbsp;|&nbsp;
		<span id="v4675914" style="display:none">1 view|%1 views</span>
	
	
	</div>
			<div id="report-inappropriate-content" class="report-inappropriate-content rounded">
		<div id="report-inappropriate-content-inner" class="no-bg-color medium-border-color border2">
			<div class="big">Loading...</div>
		</div>
	</div>
				<script type="text/javascript">
				Nabble.ads('topic_bottom');
			</script>
            <table class="footer-table shaded-bg-color">
		<tr>
			<td class="footer-left weak-color">
				<a href="http://www.nabble.com/" target="_top">Free forum by Nabble</a>
			</td>
			<td class="footer-right">
				<a href="/template/NamlServlet.jtp?macro=macro_viewer&amp;id=classic_forum_topic%21nabble%3Atopic.naml&amp;base=nabble.view.web.template.ServletNamespace" rel="nofollow">Edit this page</a>
			</td>
		</tr>
	</table>
			<script type='text/javascript'>
var scriptUrl = '/template/NamlServlet.jtp?macro=js_page&searchSpecial=4675914&incViewCount=4675914&newsflash=&visitorOnline=&avatarOnline=377372|375421&postCount=377372|375421&markVisited=4675928&views=4675914';
scriptUrl += '&_=' + Math.floor(Math.random()*9999) + Nabble.getClientID();
$.getScript(scriptUrl, function() { Nabble.resizeFrames(); });
</script>

					</div>
					<!-- Ad.true | 0 credits -->
	<script type="text/javascript">
		Nabble.trk = Nabble.trk || {};
		Nabble.trk.safe = true;
	</script>
	<script type="text/javascript">
		$(document).ready(function() { Nabble.fixCookieClientID(); });
		(function(){ var sNew = document.createElement("script"); sNew.defer = true; sNew.src = "http://tag.crsspxl.com/s1.js?d=1294"; var s0 = document.getElementsByTagName('script')[0]; s0.parentNode.insertBefore(sNew, s0); })();
		Nabble.trk = Nabble.trk || {};
		Nabble.trk.ours = false;
		Nabble.trk.host = 'n4.nabble.com';
	</script>
	<script src="http://static.nabble.com/trk0.js?5865" type="text/javascript"></script>
					<!-- n4.nabble.com | Site ID = 933282 -->
				</body>
			</html>
